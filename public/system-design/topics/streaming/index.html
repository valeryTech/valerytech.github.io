<!doctype html>
<html lang="en" data-bs-theme="auto">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><link rel="preload" href="https://valery.tech/fonts/vendor/jost/jost-v4-latin-regular.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="https://valery.tech/fonts/vendor/jost/jost-v4-latin-500.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="https://valery.tech/fonts/vendor/jost/jost-v4-latin-700.woff2" as="font" type="font/woff2" crossorigin>
<script 
  src="/js/color-mode.86a91f050a481d0a3f0c72ac26543cb6228c770875981c58dcbc008fd3f875c8.js"
  integrity="sha256-hqkfBQpIHQo/DHKsJlQ8tiKMdwh1mBxY3LwAj9P4dcg=">
</script>


<link rel="stylesheet" href="/main.e3786d949071a2400272a19145c6b32bc9b4624a8e914774843dbb567c67772716909e8da875047d8dfc39894e344f3aacde011689c74399dda300ed9df31700.css" integrity="sha512-43htlJBxokACcqGRRcazK8m0YkqOkUd0hD27VnxndycWkJ6NqHUEfY38OYlONE86rN4BFonHQ5ndowDtnfMXAA==" crossorigin="anonymous">

<noscript><style>img.lazyload { display: none; }</style></noscript><base href="https://valery.tech/system-design/topics/streaming/">

  <link rel="canonical" href="https://valery.tech/system-design/topics/streaming/">


<title>Streaming  |  Tech Foundations</title>
<meta name="description" content="Default Description">

    
    <link rel="icon" href="/favicon.ico" sizes="32x32">
    
      <link rel="icon" href="/favicon.svg" type="image/svg+xml">
    
      <link
        rel="apple-touch-icon"
        href="/apple-touch-icon.png"
        sizes="180x180"
        type="image/png"
      >
      <link
        rel="icon"
        href="/favicon-192x192.png"
        sizes="192x192"
        type="image/png"
      >
      <link
        rel="icon"
        href="/favicon-512x512.png"
        sizes="512x512"
        type="image/png"
      >
<link rel="manifest" href="/manifest.webmanifest">

<meta property="og:url" content="https://valery.tech/system-design/topics/streaming/">
  <meta property="og:site_name" content="Tech Foundations">
  <meta property="og:title" content="Streaming">
  <meta property="og:description" content="Default Description">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="system-design">
    <meta property="article:published_time" content="2025-02-22T09:02:28+00:00">
    <meta property="article:modified_time" content="2025-02-22T09:02:28+00:00">
    <meta property="og:image" content="https://valery.tech/cover.png">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://valery.tech/cover.png">
  <meta name="twitter:title" content="Streaming">
  <meta name="twitter:description" content="Default Description">
      <meta name="twitter:site" content="@tecvalery">

    
    
    <script type="application/ld+json">
  {
   "@context": "https://schema.org",
   "@type": "BreadcrumbList",
   "itemListElement": [
     {
       "@type": "ListItem",
       "item": "https://valery.tech/",
       "name": "System Design and Architecture",
       "position": 1
     },
     {
       "@type": "ListItem",
       "item": "https://valery.tech/system-design/",
       "name": "System Design",
       "position": 2
     },
     {
       "@type": "ListItem",
       "item": "https://valery.tech/system-design/topics/",
       "name": "Topics",
       "position": 3
     },
     {
       "@type": "ListItem",
       "name": "Streaming",
       "position": 4
     }
   ]
 }
</script>




      <script async src="https://www.googletagmanager.com/gtag/js?id=G-XF1V06CDS3"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-XF1V06CDS3');
        }
      </script>




</head>

  
  <body class="single section system-design" data-bs-spy="scroll" data-bs-target="#toc" data-bs-root-margin="0px 0px -60%" data-bs-smooth-scroll="true" tabindex="0">
    <div class="sticky-top">
<header class="navbar navbar-expand-lg">
  <div class="container-lg">
  
    <a class="navbar-brand me-auto me-lg-3" href="/">Tech Foundations</a>

    
    
    <button type="button" id="searchToggleMobile" class="btn btn-link nav-link mx-2 d-lg-none" aria-label="Search website">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
        <circle cx="10" cy="10" r="7"></circle>
        <line x1="21" y1="21" x2="15" y2="15"></line>
      </svg>
    </button>
    
    <button class="btn btn-link d-lg-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavSection" aria-controls="offcanvasNavSection" aria-label="Open section navigation menu">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-dots-vertical" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
        <path d="M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"></path>
        <path d="M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"></path>
        <path d="M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"></path>
      </svg>
    </button>
    <div class="offcanvas offcanvas-start d-lg-none" tabindex="-1" id="offcanvasNavSection" aria-labelledby="offcanvasNavSectionLabel">
      <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="offcanvasNavSectionLabel">System design</h5>
        <button type="button" class="btn btn-link nav-link p-0 ms-auto" data-bs-dismiss="offcanvas" aria-label="Close">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-x" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
            <path d="M18 6l-12 12"></path>
            <path d="M6 6l12 12"></path>
          </svg>
        </button>
      </div>
      <div class="offcanvas-body">
        <aside class="doks-sidebar mt-n3">
          <nav id="doks-docs-nav" aria-label="Tertiary navigation">
            
  
    
<nav class="section-nav docs-links">
  <ul class="list-unstyled">

  <li>
    <details open>
      <summary>Elements</summary>
      <ul class="list-unstyled list-nested">

  <li>
      <a href="/system-design/elements/api_gateway/">Api Gateway</a>
  </li>

  <li>
    <details open>
      <summary>Background</summary>
      <ul class="list-unstyled list-nested">

  <li>
      <a href="/system-design/elements/background/events/">Events</a>
  </li>
      </ul>
    </details>
  </li>

  <li>
      <a href="/system-design/elements/elements/">Elements</a>
  </li>

  <li>
      <a href="/system-design/elements/test_page/">Test Page</a>
  </li>
      </ul>
    </details>
  </li>

  <li>
    <details open>
      <summary>Frameworks</summary>
      <ul class="list-unstyled list-nested">

  <li>
      <a href="/system-design/frameworks/framework_hi/">Framework Hi</a>
  </li>

  <li>
      <a href="/system-design/frameworks/framework_iv/">Framework Iv</a>
  </li>
      </ul>
    </details>
  </li>

  <li>
    <details open>
      <summary>Interview</summary>
      <ul class="list-unstyled list-nested">

  <li>
      <a href="/system-design/interview/interview/">Interview</a>
  </li>

  <li>
      <a href="/system-design/interview/interview_phrases/">Interview Phrases</a>
  </li>

  <li>
      <a href="/system-design/interview/phrases/">Phrases</a>
  </li>
      </ul>
    </details>
  </li>

  <li>
    <details open>
      <summary>Nfr</summary>
      <ul class="list-unstyled list-nested">

  <li>
      <a href="/system-design/nfr/consistency/">Consistency</a>
  </li>

  <li>
      <a href="/system-design/nfr/reliability--availability/">Reliability &amp; Availability</a>
  </li>

  <li>
      <a href="/system-design/nfr/scalability/">Scalability</a>
  </li>
      </ul>
    </details>
  </li>

  <li>
    <details open>
      <summary>Projects</summary>
      <ul class="list-unstyled list-nested">

  <li>
      <a href="/system-design/projects/_themes/"> Themes</a>
  </li>

  <li>
      <a href="/system-design/projects/chat-room/">Chat Room</a>
  </li>

  <li>
      <a href="/system-design/projects/code_deployment/">Code Deployment</a>
  </li>

  <li>
      <a href="/system-design/projects/events/">Events</a>
  </li>

  <li>
      <a href="/system-design/projects/instagram/">Instagram</a>
  </li>

  <li>
      <a href="/system-design/projects/interviewing.io/">Interviewing.Io</a>
  </li>

  <li>
      <a href="/system-design/projects/interviewing.io_example/">Interviewing.Io Example</a>
  </li>

  <li>
      <a href="/system-design/projects/job-scheduler/">Job Scheduler</a>
  </li>

  <li>
      <a href="/system-design/projects/key-value-store/">Key Value Store</a>
  </li>

  <li>
      <a href="/system-design/projects/live-commenting/">Live Commenting</a>
  </li>

  <li>
      <a href="/system-design/projects/online-file-storage/">Online File Storage</a>
  </li>

  <li>
      <a href="/system-design/projects/rate_limiter/">Rate Limiter</a>
  </li>

  <li>
      <a href="/system-design/projects/sd_reviews/">Sd Reviews</a>
  </li>

  <li>
      <a href="/system-design/projects/spotify/">Spotify</a>
  </li>

  <li>
      <a href="/system-design/projects/tik_tok/">Tik Tok</a>
  </li>

  <li>
      <a href="/system-design/projects/whatsapp/">Whatsapp</a>
  </li>
      </ul>
    </details>
  </li>

  <li>
    <details open>
      <summary>To Sort</summary>
      <ul class="list-unstyled list-nested">

  <li>
      <a href="/system-design/to_sort/sd_algo_interviewing.io/">Sd Algo Interviewing.Io</a>
  </li>

  <li>
      <a href="/system-design/to_sort/sd_algorithm/">Sd Algorithm</a>
  </li>

  <li>
      <a href="/system-design/to_sort/sd_framework_old/">Sd Framework Old</a>
  </li>

  <li>
      <a href="/system-design/to_sort/sd_to_sort/">Sd To Sort</a>
  </li>
      </ul>
    </details>
  </li>

  <li>
    <details open open>
      <summary>Topics</summary>
      <ul class="list-unstyled list-nested">

  <li>
      <a href="/system-design/topics/api/">Api</a>
  </li>

  <li>
      <a href="/system-design/topics/caching/">Caching</a>
  </li>

  <li>
      <a href="/system-design/topics/communication/">Communication</a>
  </li>

  <li>
      <a href="/system-design/topics/distributed-systems/">Distributed Systems</a>
  </li>

  <li>
      <a href="/system-design/topics/envelope_estimations/">Envelope Estimations</a>
  </li>

  <li>
      <a href="/system-design/topics/hashing/">Hashing</a>
  </li>

  <li>
      <a href="/system-design/topics/microservices/">Microservices</a>
  </li>

  <li>
      <a href="/system-design/topics/partitioning/">Partitioning</a>
  </li>

  <li>
      <a href="/system-design/topics/queues/">Queues</a>
  </li>

  <li>
      <a href="/system-design/topics/replication/">Replication</a>
  </li>

  <li>
      <a href="/system-design/topics/security/">Security</a>
  </li>

  <li>
      <a href="/system-design/topics/stream_processing/">Stream Processing</a>
  </li>

  <li class="active" >
      <a aria-current="page" href="/system-design/topics/streaming/">Streaming</a>
  </li>

  <li>
      <a href="/system-design/topics/trade-offs/">Trade Offs</a>
  </li>

  <li>
      <a href="/system-design/topics/transactions/">Transactions</a>
  </li>
      </ul>
    </details>
  </li>
  </ul>
</nav>

  

          </nav>
        </aside>
      </div>
    </div>
    
    <button class="btn btn-link nav-link mx-2 order-3 d-lg-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavMain" aria-controls="offcanvasNavMain" aria-label="Open main navigation menu">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-menu" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
        <line x1="4" y1="8" x2="20" y2="8"></line>
        <line x1="4" y1="16" x2="20" y2="16"></line>
      </svg>
    </button>

    
    <div class="offcanvas offcanvas-end h-auto" tabindex="-1" id="offcanvasNavMain" aria-labelledby="offcanvasNavMainLabel">
      <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="offcanvasNavMainLabel">Tech Foundations</h5>
        <button type="button" class="btn btn-link nav-link p-0 ms-auto" data-bs-dismiss="offcanvas" aria-label="Close">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-x" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
            <path d="M18 6l-12 12"></path>
            <path d="M6 6l12 12"></path>
         </svg>
        </button>
      </div>
      
      <div class="offcanvas-body d-flex flex-column flex-lg-row justify-content-between">
        <ul class="navbar-nav flex-grow-1"><li class="nav-item">
                <a class="nav-link" href="https://valery.tech/engineering/engineering-guide/">Engineering Guide</a>
              </li>
            <li class="nav-item">
                <a class="nav-link" href="https://valery.tech/projects/about/">Projects</a>
              </li>
            <li class="nav-item">
                <a class="nav-link" href="https://valery.tech/system-design/about/">System Design</a>
              </li>
            </ul>

        
        
        <button type="button" id="searchToggleDesktop" class="btn btn-link nav-link p-2 d-none d-lg-block" aria-label="Search website">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
            <circle cx="10" cy="10" r="7"></circle>
            <line x1="21" y1="21" x2="15" y2="15"></line>
          </svg>
        </button>
        
        
        
        <button id="buttonColorMode" class="btn btn-link mx-auto nav-link p-0 ms-lg-2 me-lg-1" type="button" aria-label="Toggle theme">
          <svg data-bs-theme-value="dark" xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-moon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
            <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
          </svg>
          <svg data-bs-theme-value="light" xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-sun" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
            <path d="M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0m-5 0h1m8 -9v1m8 8h1m-9 8v1m-6.4 -15.4l.7 .7m12.1 -.7l-.7 .7m0 11.4l.7 .7m-12.1 -.7l-.7 .7"></path>
          </svg>
        </button>
        
        <ul id="socialMenu" class="nav mx-auto flex-row order-lg-4">
          <li class="nav-item">
              <a class="nav-link social-link" href="https://github.com/valeryTech"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5"></path></svg><small class="ms-2 visually-hidden">GitHub</small></a>
            </li>
          </ul>
        
        </div>
    </div>

    
    </div>
</header>
</div>

<div class="modal" id="searchModal" tabindex="-1" aria-labelledby="searchModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-fullscreen-md-down">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5 visually-hidden" id="searchModalLabel">Search</h1>
        <button type="button" class="btn-close visually-hidden" data-bs-dismiss="modal" aria-label="Close"></button>
        <div class="search-input flex-grow-1 d-none">
          <form id="search-form" class="search-form" action="#" method="post" accept-charset="UTF-8" role="search">
            <label for="query" class="visually-hidden">Search</label>
            <div class="d-flex">
              <input type="search" id="query" name="query" class="search-text form-control form-control-lg" placeholder="Search" aria-label="Search" maxlength="128" autocomplete="off">
              <button type="button" class="btn btn-link text-decoration-none px-0 ms-3 d-md-none" data-bs-dismiss="modal" aria-label="Close">Cancel</button>
            </div>
          </form>
        </div>
      </div>
      <div class="modal-body">
        <p class="search-loading status message d-none mt-3 text-center">Loading search index…</p>
        <p class="search-no-recent message d-none mt-3 text-center">No recent searches</p>
        <p class="search-no-results message d-none mt-3 text-center">No results for "<strong><span class="query-no-results">Query here</span></strong>"</p>
        <div id="searchResults" class="search-results"></div>
        <template>
          <article class="search-result list-view">
            <div class="card my-3">
              <div class="card-body">
                <header>
                  <h2 class="h5 title title-submitted mb-0"><a class="stretched-link text-decoration-none text-reset" href="#">Title here</a></h2>
                  <div class="submitted d-none"><time class="created-date">Date here</time></div>
                </header>
                <div class="content">Summary here</div>
              </div>
            </div>
          </article>
        </template>
      </div>
      <div class="modal-footer">
        <ul class="list-inline me-auto d-none d-md-block">
          <li class="list-inline-item"><kbd class="me-2"><svg width="15" height="15" aria-label="Enter key" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M12 3.53088v3c0 1-1 2-2 2H4M7 11.53088l-3-3 3-3"></path></g></svg></kbd><span class="DocSearch-Label">to select</span></li>
          <li class="list-inline-item"><kbd class="me-2"><svg width="15" height="15" aria-label="Arrow down" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M7.5 3.5v8M10.5 8.5l-3 3-3-3"></path></g></svg></kbd><kbd class="me-2"><svg width="15" height="15" aria-label="Arrow up" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M7.5 11.5v-8M10.5 6.5l-3-3-3 3"></path></g></svg></kbd><span class="DocSearch-Label">to navigate</span></li>
          <li class="list-inline-item"><kbd class="me-2"><svg width="15" height="15" aria-label="Escape key" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M13.6167 8.936c-.1065.3583-.6883.962-1.4875.962-.7993 0-1.653-.9165-1.653-2.1258v-.5678c0-1.2548.7896-2.1016 1.653-2.1016.8634 0 1.3601.4778 1.4875 1.0724M9 6c-.1352-.4735-.7506-.9219-1.46-.8972-.7092.0246-1.344.57-1.344 1.2166s.4198.8812 1.3445.9805C8.465 7.3992 8.968 7.9337 9 8.5c.032.5663-.454 1.398-1.4595 1.398C6.6593 9.898 6 9 5.963 8.4851m-1.4748.5368c-.2635.5941-.8099.876-1.5443.876s-1.7073-.6248-1.7073-2.204v-.4603c0-1.0416.721-2.131 1.7073-2.131.9864 0 1.6425 1.031 1.5443 2.2492h-2.956"></path></g></svg></kbd><span class="DocSearch-Label">to close</span></li>
        </ul>
        <p class="d-md-none">Search by <a class="text-decoration-none" href="https://github.com/nextapps-de/flexsearch">FlexSearch</a></p>
      </div>
    </div>
  </div>
</div>


    <div class="wrap container-lg" role="document">
      <div class="content">
      
        
	<div class="row flex-xl-nowrap">
		<div class="col-lg-5 col-xl-4 docs-sidebar d-none d-lg-block">
			
  
    
<nav class="section-nav docs-links">
  <ul class="list-unstyled">

  <li>
    <details open>
      <summary>Elements</summary>
      <ul class="list-unstyled list-nested">

  <li>
      <a href="/system-design/elements/api_gateway/">Api Gateway</a>
  </li>

  <li>
    <details open>
      <summary>Background</summary>
      <ul class="list-unstyled list-nested">

  <li>
      <a href="/system-design/elements/background/events/">Events</a>
  </li>
      </ul>
    </details>
  </li>

  <li>
      <a href="/system-design/elements/elements/">Elements</a>
  </li>

  <li>
      <a href="/system-design/elements/test_page/">Test Page</a>
  </li>
      </ul>
    </details>
  </li>

  <li>
    <details open>
      <summary>Frameworks</summary>
      <ul class="list-unstyled list-nested">

  <li>
      <a href="/system-design/frameworks/framework_hi/">Framework Hi</a>
  </li>

  <li>
      <a href="/system-design/frameworks/framework_iv/">Framework Iv</a>
  </li>
      </ul>
    </details>
  </li>

  <li>
    <details open>
      <summary>Interview</summary>
      <ul class="list-unstyled list-nested">

  <li>
      <a href="/system-design/interview/interview/">Interview</a>
  </li>

  <li>
      <a href="/system-design/interview/interview_phrases/">Interview Phrases</a>
  </li>

  <li>
      <a href="/system-design/interview/phrases/">Phrases</a>
  </li>
      </ul>
    </details>
  </li>

  <li>
    <details open>
      <summary>Nfr</summary>
      <ul class="list-unstyled list-nested">

  <li>
      <a href="/system-design/nfr/consistency/">Consistency</a>
  </li>

  <li>
      <a href="/system-design/nfr/reliability--availability/">Reliability &amp; Availability</a>
  </li>

  <li>
      <a href="/system-design/nfr/scalability/">Scalability</a>
  </li>
      </ul>
    </details>
  </li>

  <li>
    <details open>
      <summary>Projects</summary>
      <ul class="list-unstyled list-nested">

  <li>
      <a href="/system-design/projects/_themes/"> Themes</a>
  </li>

  <li>
      <a href="/system-design/projects/chat-room/">Chat Room</a>
  </li>

  <li>
      <a href="/system-design/projects/code_deployment/">Code Deployment</a>
  </li>

  <li>
      <a href="/system-design/projects/events/">Events</a>
  </li>

  <li>
      <a href="/system-design/projects/instagram/">Instagram</a>
  </li>

  <li>
      <a href="/system-design/projects/interviewing.io/">Interviewing.Io</a>
  </li>

  <li>
      <a href="/system-design/projects/interviewing.io_example/">Interviewing.Io Example</a>
  </li>

  <li>
      <a href="/system-design/projects/job-scheduler/">Job Scheduler</a>
  </li>

  <li>
      <a href="/system-design/projects/key-value-store/">Key Value Store</a>
  </li>

  <li>
      <a href="/system-design/projects/live-commenting/">Live Commenting</a>
  </li>

  <li>
      <a href="/system-design/projects/online-file-storage/">Online File Storage</a>
  </li>

  <li>
      <a href="/system-design/projects/rate_limiter/">Rate Limiter</a>
  </li>

  <li>
      <a href="/system-design/projects/sd_reviews/">Sd Reviews</a>
  </li>

  <li>
      <a href="/system-design/projects/spotify/">Spotify</a>
  </li>

  <li>
      <a href="/system-design/projects/tik_tok/">Tik Tok</a>
  </li>

  <li>
      <a href="/system-design/projects/whatsapp/">Whatsapp</a>
  </li>
      </ul>
    </details>
  </li>

  <li>
    <details open>
      <summary>To Sort</summary>
      <ul class="list-unstyled list-nested">

  <li>
      <a href="/system-design/to_sort/sd_algo_interviewing.io/">Sd Algo Interviewing.Io</a>
  </li>

  <li>
      <a href="/system-design/to_sort/sd_algorithm/">Sd Algorithm</a>
  </li>

  <li>
      <a href="/system-design/to_sort/sd_framework_old/">Sd Framework Old</a>
  </li>

  <li>
      <a href="/system-design/to_sort/sd_to_sort/">Sd To Sort</a>
  </li>
      </ul>
    </details>
  </li>

  <li>
    <details open open>
      <summary>Topics</summary>
      <ul class="list-unstyled list-nested">

  <li>
      <a href="/system-design/topics/api/">Api</a>
  </li>

  <li>
      <a href="/system-design/topics/caching/">Caching</a>
  </li>

  <li>
      <a href="/system-design/topics/communication/">Communication</a>
  </li>

  <li>
      <a href="/system-design/topics/distributed-systems/">Distributed Systems</a>
  </li>

  <li>
      <a href="/system-design/topics/envelope_estimations/">Envelope Estimations</a>
  </li>

  <li>
      <a href="/system-design/topics/hashing/">Hashing</a>
  </li>

  <li>
      <a href="/system-design/topics/microservices/">Microservices</a>
  </li>

  <li>
      <a href="/system-design/topics/partitioning/">Partitioning</a>
  </li>

  <li>
      <a href="/system-design/topics/queues/">Queues</a>
  </li>

  <li>
      <a href="/system-design/topics/replication/">Replication</a>
  </li>

  <li>
      <a href="/system-design/topics/security/">Security</a>
  </li>

  <li>
      <a href="/system-design/topics/stream_processing/">Stream Processing</a>
  </li>

  <li class="active" >
      <a aria-current="page" href="/system-design/topics/streaming/">Streaming</a>
  </li>

  <li>
      <a href="/system-design/topics/trade-offs/">Trade Offs</a>
  </li>

  <li>
      <a href="/system-design/topics/transactions/">Transactions</a>
  </li>
      </ul>
    </details>
  </li>
  </ul>
</nav>

  

		</div>
		
		<nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation">
			<div class="page-links">
  <h3>On this page</h3>
    <nav id="toc">
  <ul>
    <li><a href="#sources-and-links">Sources and Links</a>
      <ul>
        <li><a href="#books">Books</a></li>
      </ul>
    </li>
    <li><a href="#to-sort">to sort</a></li>
    <li><a href="#community--events">Community &amp; Events</a></li>
    <li><a href="#actions">Actions</a></li>
    <li><a href="#future-problems">Future Problems</a></li>
    <li><a href="#flow">Flow?</a></li>
    <li><a href="#exercise-one-vision-before-reference">Exercise One: &ldquo;Vision Before Reference&rdquo;</a>
      <ul>
        <li><a href="#iteration-one">Iteration One</a></li>
        <li><a href="#recommendation-engine-example-comparing-approaches">Recommendation Engine Example (comparing approaches)</a></li>
        <li><a href="#reflection">Reflection</a>
          <ul>
            <li><a href="#the-importance-of-specific-examples">The Importance of Specific Examples</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#dynamic-pricing-use-case">Dynamic Pricing Use Case</a></li>
    <li><a href="#redpanda">RedPanda</a>
      <ul>
        <li><a href="#analytics-use-case">Analytics Use Case</a></li>
      </ul>
    </li>
    <li><a href="#chapter-2-intro">Chapter 2: Intro</a></li>
    <li><a href="#session-recording">Session Recording</a></li>
    <li><a href="#session-recording-1">Session Recording</a></li>
  </ul>
</nav>
</div>

		</nav>
		<main class="docs-content col-lg-11 col-xl-9">
		
				<nav aria-label="breadcrumb">
					<ol class="breadcrumb">
						<li class="breadcrumb-item"><a href="/">Home</a></li>
<li class="breadcrumb-item"><a href="/system-design/">System design</a></li>
<li class="breadcrumb-item"><a href="/system-design/topics/">Topics</a></li>
<li class="breadcrumb-item active" aria-current="page">Streaming</li>
					</ol>
				</nav>
			
			<h1>Streaming</h1>
			
			<nav class="toc-mobile d-xl-none" aria-label="Quaternary navigation">
				<details>
    <summary>On this page</summary>
    <div class="page-links">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#sources-and-links">Sources and Links</a>
      <ul>
        <li><a href="#books">Books</a></li>
      </ul>
    </li>
    <li><a href="#to-sort">to sort</a></li>
    <li><a href="#community--events">Community &amp; Events</a></li>
    <li><a href="#actions">Actions</a></li>
    <li><a href="#future-problems">Future Problems</a></li>
    <li><a href="#flow">Flow?</a></li>
    <li><a href="#exercise-one-vision-before-reference">Exercise One: &ldquo;Vision Before Reference&rdquo;</a>
      <ul>
        <li><a href="#iteration-one">Iteration One</a></li>
        <li><a href="#recommendation-engine-example-comparing-approaches">Recommendation Engine Example (comparing approaches)</a></li>
        <li><a href="#reflection">Reflection</a>
          <ul>
            <li><a href="#the-importance-of-specific-examples">The Importance of Specific Examples</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#dynamic-pricing-use-case">Dynamic Pricing Use Case</a></li>
    <li><a href="#redpanda">RedPanda</a>
      <ul>
        <li><a href="#analytics-use-case">Analytics Use Case</a></li>
      </ul>
    </li>
    <li><a href="#chapter-2-intro">Chapter 2: Intro</a></li>
    <li><a href="#session-recording">Session Recording</a></li>
    <li><a href="#session-recording-1">Session Recording</a></li>
  </ul>
</nav>
    </div>
  </details>

			</nav>
			<h1 id="sources-and-links">Sources and Links</h1>
<p><a href="https://trueaccord.atlassian.net/wiki/spaces/DS/pages/815105668/Data&#43;Streaming&#43;overview">https://trueaccord.atlassian.net/wiki/spaces/DS/pages/815105668/Data+Streaming+overview</a></p>
<p><a href="https://drive.google.com/file/d/1wyP1aUBAwhLLonENwIJjVXxXWyUfJ5nN/view">https://drive.google.com/file/d/1wyP1aUBAwhLLonENwIJjVXxXWyUfJ5nN/view</a>
<a href="https://drive.google.com/file/d/1QeIte_uFbKYlPr4bIVuBVQCx1vWSb0l_/edit">https://drive.google.com/file/d/1QeIte_uFbKYlPr4bIVuBVQCx1vWSb0l_/edit</a>
<a href="https://trueaccord.atlassian.net/wiki/spaces/DS/pages/815105668/Data&#43;Streaming&#43;overview">https://trueaccord.atlassian.net/wiki/spaces/DS/pages/815105668/Data+Streaming+overview</a></p>
<p><a href="https://trueaccord.atlassian.net/wiki/spaces/DS/pages/815727051/Glossary">https://trueaccord.atlassian.net/wiki/spaces/DS/pages/815727051/Glossary</a></p>
<p>old. Streaming Platform overview <a href="https://trueaccord.atlassian.net/wiki/x/jAHvNg">link</a></p>
<p>local repos?
streaming/platform&hellip;</p>
<p>Sources:
&ldquo;Data Streaming&rdquo; space
slack channel</p>
<p><a href="https://trueaccord.atlassian.net/wiki/x/_QRmbg">https://trueaccord.atlassian.net/wiki/x/_QRmbg</a>
<a href="https://trueaccord.atlassian.net/wiki/spaces/DS/settings/home">https://trueaccord.atlassian.net/wiki/spaces/DS/settings/home</a></p>
<p><a href="https://systemdesignschool.io/fundamentals/stream-processing">https://systemdesignschool.io/fundamentals/stream-processing</a>
<a href="https://aws.amazon.com/what-is/batch-processing/">https://aws.amazon.com/what-is/batch-processing/</a>
<a href="https://www.youtube.com/watch?v=1xgBQTF24mU">https://www.youtube.com/watch?v=1xgBQTF24mU</a></p>
<p>really interesting analysis
<a href="https://www.reddit.com/r/ExperiencedDevs/comments/183f70f/tradeoffs_between_batch_processing_and_streaming/">https://www.reddit.com/r/ExperiencedDevs/comments/183f70f/tradeoffs_between_batch_processing_and_streaming/</a></p>
<p>reviews:
<a href="https://www.kai-waehner.de/blog/2023/12/21/the-data-streaming-landscape-2024/">https://www.kai-waehner.de/blog/2023/12/21/the-data-streaming-landscape-2024/</a></p>
<p>kai has also various use cases review
<a href="https://www.kai-waehner.de/blog/2024/11/28/data-streaming-in-healthcare-and-pharma-use-cases-cardinal-health/">https://www.kai-waehner.de/blog/2024/11/28/data-streaming-in-healthcare-and-pharma-use-cases-cardinal-health/</a>
<a href="https://www.kai-waehner.de/blog/2022/04/04/real-time-analytics-machine-learning-with-apache-kafka-in-the-healthcare-industry/">https://www.kai-waehner.de/blog/2022/04/04/real-time-analytics-machine-learning-with-apache-kafka-in-the-healthcare-industry/</a>
<a href="https://www.kai-waehner.de/blog/2022/03/28/apache-kafka-data-streaming-healthcare-industry/">https://www.kai-waehner.de/blog/2022/03/28/apache-kafka-data-streaming-healthcare-industry/</a></p>
<p>kappa vs lambda
<a href="https://www.kai-waehner.de/blog/2021/09/23/real-time-kappa-architecture-mainstream-replacing-batch-lambda/">https://www.kai-waehner.de/blog/2021/09/23/real-time-kappa-architecture-mainstream-replacing-batch-lambda/</a>
<a href="https://www.youtube.com/watch?v=j7D29eyysDw">https://www.youtube.com/watch?v=j7D29eyysDw</a>
kappa is a single real-time pipeline?</p>
<p>videos:
kafka summit conference</p>
<p>product RedPanda documentation
<a href="https://www.redpanda.com/blog/streaming-data-examples-best-practices-tools">https://www.redpanda.com/blog/streaming-data-examples-best-practices-tools</a>
<a href="https://www.redpanda.com/blog/data-streaming-architecture">https://www.redpanda.com/blog/data-streaming-architecture</a>
<a href="https://www.redpanda.com/blog/batch-vs-streaming-data-processing">https://www.redpanda.com/blog/batch-vs-streaming-data-processing</a>
<a href="https://www.redpanda.com/blog/kafka-stream-processors">https://www.redpanda.com/blog/kafka-stream-processors</a></p>
<p>and many tutorials here
<a href="https://www.redpanda.com/blog/monetize-real-time-ads-gaming">https://www.redpanda.com/blog/monetize-real-time-ads-gaming</a>
<a href="https://www.redpanda.com/blog/build-inventory-management-flink-mongodb-redpanda">https://www.redpanda.com/blog/build-inventory-management-flink-mongodb-redpanda</a></p>
<p><strong>Blogs</strong>
Uber Engineering Blog. Articles regarding streaming and events.</p>
<h2 id="books">Books<a href="#books" class="anchor" aria-hidden="true">#</a> </h2>
<p>&ldquo;Grokking Streaming&rdquo;
Hueske &ldquo;Stream Processing with Apache Flink: Fundamentals, Implementation, and &quot; examples?</p>
<p>on kafka:</p>
<p>For Kafka Streams
&ldquo;Kafka Streams in Action&rdquo; 2nd edition</p>
<h1 id="to-sort">to sort</h1>
<p>Stream processing approach frequently has been comparing with batch processing. So we can use it and find some definitive features and other things from this comparing. To do what?
(next -&gt;) I can see that this comparison exists on two levels: 1. stream vs batch on communication level; 2. Kappa vs Lambda architecture;</p>
<p>Data Streaming Use Cases by Business Value</p>
<p>topic: streaming ETL?</p>
<p>also there is a topic of some foundations: <code>foundations-streaming</code> library and tasks from DeGoe. You can search for other fundamental things also.</p>
<h1 id="community--events">Community &amp; Events</h1>
<p><a href="https://www.redpanda.com/streamfest">https://www.redpanda.com/streamfest</a> #todo register</p>
<p>register fro <a href="https://events.confluent.io/5thingsyouneedtoknow2025">https://events.confluent.io/5thingsyouneedtoknow2025</a></p>
<h1 id="actions">Actions</h1>
<p>write your own vision of current and future state of the streaming platform
ask other teams and people &hellip;
communicate to them</p>
<p>collaborate</p>
<p>communication</p>
<p>topics:</p>
<ul>
<li>future problems</li>
</ul>
<h1 id="future-problems">Future Problems</h1>
<p>prevention</p>
<p>practices</p>
<h1 id="flow">Flow?</h1>
<h1 id="exercise-one-vision-before-reference">Exercise One: &ldquo;Vision Before Reference&rdquo;</h1>
<p>Without any prior research, challenge yourself to define &ldquo;streaming&rdquo;, &ldquo;streaming platform&rdquo;, and other key concepts: their characteristics, approaches, and typical components — purely based on your current knowledge and intuition. Work entirely from your current knowledge. Create an &lsquo;Ontology Map&rsquo; (reflection: tried to systemize approach, #todo define) #todo rewrite this</p>
<p>Then compare these to industry-standard definitions.</p>
<p>What&rsquo;s the benefit?
By contrasting your ideas with established definitions, you can:</p>
<ul>
<li>Build on your foundational knowledge.</li>
<li>Advance your learning strategy</li>
</ul>
<h2 id="iteration-one">Iteration One<a href="#iteration-one" class="anchor" aria-hidden="true">#</a> </h2>
<p>Let&rsquo;s begin with the concept of a <strong>&ldquo;Stream.&rdquo;</strong> The first defining characteristic that comes to mind is its <strong>endlessness</strong>—a stream flows without a defined endpoint. Another key feature is its <strong>continuity</strong>, where elements appear in a steady sequence without significant interruptions.</p>
<p>(try to draw it on the paper).
Producer emits messages to store.
These elements are messages or events depending on the level of abstraction..</p>
<p><strong>Contrasting</strong> (comparing to existing)</p>
<p>As a senior backend developer, when we consider the concept of a <strong>&ldquo;Stream,&rdquo;</strong> the first defining feature is its <strong>unbounded or infinite nature</strong>—it represents a continuous flow of data without a predetermined endpoint. Additionally, a stream is characterized by its <strong>uninterrupted continuity</strong>, where elements are processed in a steady, sequential manner without significant pauses or delays. This seamless flow is essential for real-time data processing, allowing for efficient handling of data as it arrives.</p>
<p>Ok, we contrasted these. But what knowledge have we gotten? &hellip;</p>
<p>Identify several use cases and corresponding user requirements. Analyze the limitations and shortcomings of existing approaches in these scenarios. Use the identified user requirements as a foundation to develop and justify the adoption of the streaming method.</p>
<blockquote>
<p>Use Specific and Concrete Example</p></blockquote>
<h2 id="recommendation-engine-example-comparing-approaches">Recommendation Engine Example (comparing approaches)<a href="#recommendation-engine-example-comparing-approaches" class="anchor" aria-hidden="true">#</a> </h2>
<p>Other thing that came up: why one should use it? Which problems can it solve? Trade offs? So you can consider &lsquo;streaming&rsquo; approach as a tool and approach to solve some problems.</p>
<p>near real-time insights</p>
<h2 id="reflection">Reflection<a href="#reflection" class="anchor" aria-hidden="true">#</a> </h2>
<p>This type of exercise can be broadly classified under <strong>reflective learning</strong> or <strong>self-assessment exercises</strong>. The primary goal is to encourage learners to engage with their prior knowledge, articulate their understanding, and then refine it by comparing it with authoritative sources.</p>
<p>(other definition)
<strong>Constructivist Learning Activity</strong>
Definition: An exercise rooted in constructivist learning theory, where individuals construct their understanding of a topic before comparing it to shared or formalized knowledge.</p>
<p>Constructivism is the theory that says learners <em>construct knowledge</em> rather than just passively take in information. As people experience the world and reflect upon those experiences, they build their own representations and incorporate new information into their pre-existing knowledge (schemas)</p>
<p>reflection2: really use it helped me to understand that this kind of exercise &lsquo;create first, then evaluate and contrast to established standards&rsquo; is already exist as a part of Constructivism Learning</p>
<h3 id="the-importance-of-specific-examples">The Importance of Specific Examples<a href="#the-importance-of-specific-examples" class="anchor" aria-hidden="true">#</a> </h3>
<p>When attempting to compare streaming to other approaches, I found myself stuck with vague ideas and struggling to identify anything concrete. Even when I tried to create a diagram, it ended up being overly abstract, with generic producers, messages, and events—I couldn&rsquo;t even name an intermediate buffer.</p>
<p>To address this, I decided to focus on constructing and using a specific, concrete example. This approach provided the clarity needed for meaningful comparison and better understanding.</p>
<p>these are example of</p>
<ul>
<li><strong>Case-Based Learning (CBL):</strong> A method where insights are derived by analyzing and understanding specific cases or examples.</li>
<li><strong>Experiential Learning:</strong> Gaining knowledge through direct experience and reflection on specific situations.</li>
</ul>
<p>^^ kind of bottom-up approach</p>
<h1 id="dynamic-pricing-use-case">Dynamic Pricing Use Case</h1>
<p><a href="https://www.kai-waehner.de/blog/2024/11/14/a-new-era-in-dynamic-pricing-real-time-data-streaming-with-apache-kafka-and-flink/">https://www.kai-waehner.de/blog/2024/11/14/a-new-era-in-dynamic-pricing-real-time-data-streaming-with-apache-kafka-and-flink/</a>
<a href="https://www.confluent.io/events/kafka-summit-apac-2021/kafka-tiered-storage/">https://www.confluent.io/events/kafka-summit-apac-2021/kafka-tiered-storage/</a></p>
<h1 id="redpanda">RedPanda</h1>
<h2 id="analytics-use-case">Analytics Use Case<a href="#analytics-use-case" class="anchor" aria-hidden="true">#</a> </h2>
<p>In this track you will learn how to create a web analytics platform using Redpanda and Clickhouse.</p>
<p>Welcome back. In this lesson, we&rsquo;ll discuss the reference architecture for building a cutting-edge analytics product. We&rsquo;ll leverage modern technologies to create a powerful, scalable, and privacy-focused solution that can adapt to various deployment needs.</p>
<p>Hono
At the heart of our data collection process lies Hono, an ultrafast web framework for <em>edge computing</em>. Hono allows us to create lightweight, high-performance edge services that can handle incoming analytics data with minimal latency.</p>
<p>By deploying our data collection endpoint at the edge, we ensure that user interactions are captured swiftly and efficiently, regardless of their geographic location. Hono will serve the JavaScript snippet that collects user data and also handle the incoming analytics events, acting as the first point of contact in our data pipeline.</p>
<p>Redpanda</p>
<p>Once the data is received by our Hono-powered edge service, we&rsquo;ll immediately forward it to Redpanda. Redpanda serves as a high-performance buffer between our data collection layer and our analytics database. This buffering is crucial for handling traffic spikes and ensuring data durability.</p>
<p>Redpanda&rsquo;s ability to handle millions of events per second with low latency makes it an ideal choice for real-time analytics pipelines. Also, its Kafka compatibility means we can leverage a rich ecosystem of tools and connectors while benefiting from Redpanda&rsquo;s improved performance and simpler operational model.</p>
<p>Clickhouse
From Redpanda, our data will stream into ClickHouse, a column-oriented database that&rsquo;s designed for real-time analytics on large datasets. ClickHouse&rsquo;s architecture allows for blazing-fast query execution, making it possible to analyze billions of rows in milliseconds.</p>
<p>This capability is essential for providing real-time insights and interactive dashboards. ClickHouse also offers excellent data compression, reducing storage costs while maintaining query performance. By combining Redpanda and ClickHouse, we can handle massive amounts of data while providing near-instantaneous query results.</p>
<p>Grafana
To bring our analytics to life, we&rsquo;ll use Grafana, an open-source platform for monitoring and observability. Grafana will connect to ClickHouse and provide a rich, interactive interface for creating dashboards, alerts, and visualizations. Its flexibility allows us to create custom panels and graphs that cater to specific analytics needs, from high-level overviews to detailed drill-downs.</p>
<p>Grafana&rsquo;s ability to combine data from multiple sources also means we can integrate our analytics with other metrics and logs, providing a comprehensive view of our system&rsquo;s performance and user behavior.</p>
<p>Benefits
One of the key strengths of this architecture is its flexibility in deployment options. Each component - from Hono to Grafana - can be self-hosted or used as a managed service, allowing you to choose the approach that best fits your needs and resources.</p>
<p>This flexibility extends to the data collection layer, where companies can implement custom tracking solutions or integrate with existing analytics libraries. By providing this freedom, we ensure that our analytics platform can adapt to various privacy requirements, regulatory needs, and scaling demands. If you aim to run every component in-house, you can do that. If you want to minimize overhead for certain pieces (e.g. Redpanda or Clickhouse), you can swap in their cloud offerings.</p>
<p>Especially noteworthy is Redpanda&rsquo;s Bring Your Own Cloud (BYOC) service, which allows you to deploy Redpanda in-house within your own cloud environment. This approach ensures that your data remains secure and under your control while benefiting from professional management services provided directly by Redpanda&rsquo;s expert team. This model offers the best of both worlds: the security and compliance of an on-premises solution with the convenience and expertise of a managed service.</p>
<p>Summary
This reference architecture combines the speed of edge computing, the reliability of event streaming, the power of columnar databases, and the flexibility of modern visualization tools to create a comprehensive analytics solution.</p>
<p>As we progress through this course, you&rsquo;ll gain hands-on experience with each of these technologies, learning how to harness their individual strengths and integrate them into a cohesive, powerful analytics platform.</p>
<p>Whether you&rsquo;re building a privacy-first solution or a large-scale enterprise system, the skills you&rsquo;ll acquire will enable you to create fast, scalable, and insightful analytics products.</p>
<p>With this architectural blueprint in place, let&rsquo;s move on to the prerequisites.</p>
<p>We&rsquo;re trying to connect to the service, but it seems like it&rsquo;s not quite ready yet&hellip;<br>
Depending on the service you are trying to reach this may take a few minutes.</p>
<p>This page will try to reload once the service is available,<br>
or you can try to refresh the page yourself.</p>



<div class="expressive-code">
  <figure class="frame is-terminal not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">source</span> ~/.bash_profile 
</span></span><span class="line"><span class="cl">git clone https://github.com/redpanda-data-university/rp-use-cases-web-analytics.git -b instruqt 
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> rp-use-cases-web-analytics</span></span></code></pre></div>
  </figure>
</div>
<p><strong>Create the ingestion endpoints</strong>
Since the marketing website (which we intend to capture analytics from) is referencing an endpoint called /js in our Hono application, let&rsquo;s implement that.</p>
<p>This confirms that our data collection endpoint is wired up to our website, but it&rsquo;s not doing much yet. Let&rsquo;s modify the code to collect some information about the page visit.</p>
<p><strong>Collecting data</strong>
Now, we want to collect the page that the user is visiting (<code>/pricing</code>, <code>/about</code>, etc).</p>
<p>Enrich the payload</p>
<p>In addition to tracking which page the user visited (<code>/pricing</code>, <code>/blog</code>, etc), there&rsquo;s more information that would be useful to collect. For example:</p>
<ul>
<li>The user&rsquo;s browser / client information</li>
<li>IP address</li>
<li>Approximate geolocation</li>
</ul>
<p>While we needed to collect the page URL client-side (using the JS snippet we returned from the <code>js/</code> endpoint), we can collect the rest of this information from the server side.</p>
<p>Improve the formatting</p>
<p>This payload is starting to look pretty good. But thinking ahead, the highly nested structure of the client field could complicate the way we query and process the data later on. So let&rsquo;s add the following helper function to flatten the structure.</p>
<p>Finalizing the payload</p>
<p>Before we starting publishing this data to Redpanda and Clickhouse, lets add two more fields to the payload: <code>ip</code> and <code>country</code>. This is where our implementation gets a little Cloudflare-specific. While the main Hono application can be deployed to many different edge runtimes, the methods for accessing certain data points may differ according to the runtime.</p>
<p>The following methods for getting the IP address (<code>c.req.header(&quot;CF-Connecting-IP&quot;)</code>) and the user&rsquo;s country (<code>c.req.raw?.cf?.country</code>) in the code snippet below can be adapted accordingly if you decide to deploy your application to one of the non-Cloudflare edge runtimes.</p>
<p>What&rsquo;s Next?
You have now completed one of the most important tasks for building an analytics system: collecting the raw data. In the next two chapters, you learn how to store this data in Redpanda and Clickhouse, and implement more advanced features, as well. See you in the next chapter!</p>
<h1 id="chapter-2-intro">Chapter 2: Intro</h1>
<p>In this lesson, you&rsquo;ll create the Redpanda topic for storing user analytics, and then start writing data to it.</p>
<p>Setting Up Redpanda</p>
<p>We have included a local Redpanda cluster in the <code>docker-compose.yml</code> file. To interact with this cluster, we&rsquo;ll use the <code>rpk</code> CLI, which is installed alongside the broker.</p>
<p>To make the CLI available, run the following command to set an alias that points to the <code>rpk</code> executable.</p>
<p>With the <code>website_visits</code> topic created, we&rsquo;re almost ready to write the data to Redpanda. However, since Redpanda gives us a couple of different options for producing data, we need to decide which method to use:</p>
<ul>
<li>The HTTP proxy allows us to produce requests by submitting HTTP requests to Redpanda&rsquo;s REST API</li>
<li>Kafka producer libraries write data using a different wire format</li>
</ul>
<p>Since Redpanda includes the HTTP proxy inside its binary, and Javascript has native support for making HTTP requests, we&rsquo;ll pursue that option in this tutorial. Another factor influencing our decision is that npm modules don&rsquo;t always work as expected in edge runtimes, so we&rsquo;ll pursue the path of least surprise by simply issuing HTTP requests instead of using one of the Kafka Node modules.</p>
<p>It&rsquo;s time to start producing data to Redpanda.</p>
<p>Producing to Redpanda
The <a href="https://docs.redpanda.com/current/develop/http-proxy/?tab=tabs-5-curl">Redpanda documentation</a> includes many examples of how to interact with Redpanda&rsquo;s HTTP Proxy API. For example, to produce data to a Redpanda topic, you&rsquo;ll need to issue a POST request to the <code>topics/{topic_name}</code> endpoint.</p>



<div class="expressive-code">
  <figure class="frame is-terminal not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">alias</span> <span class="nv">rpk</span><span class="o">=</span><span class="s2">&#34;docker exec -ti redpanda-1 rpk&#34;</span> 
</span></span><span class="line"><span class="cl">rpk topic consume website_visits</span></span></code></pre></div>
  </figure>
</div>
<p>Now that the page visit data is flowing through Redpanda, we can do a couple of things with it:
Write the data to a data warehouse to visualize and query the data
Start building event-driven systems to utilize this data for various business use cases
We&rsquo;ll start with the first option and show you how to ingest this data into Clickhouse. Proceed to the next lesson to continue the tutorial.</p>
<p>Ingesting the data into Clickhouse</p>
<p>In this lesson, you&rsquo;ll pipe the analytics data from Redpanda into a real-time data warehouse called <a href="https://github.com/ClickHouse/ClickHouse?utm_source=clickhouse&amp;utm_medium=website&amp;utm_campaign=website-nav">Clickhouse</a>.</p>
<p>Setting Up Clickhouse</p>
<p>Clickhouse is a popular analytics database that is great for low-latency queries on large analytic datasets. It&rsquo;s open-source and easy to get started with.</p>
<p>We&rsquo;ve included a Clickhouse deployment in the <code>docker-compose.yaml</code> file, so it should have automatically started after you ran <code>docker-compose up -d</code> earlier. To verify that it&rsquo;s running, run the following command from the <a href="https://play.instruqt.com/redpanda/invite/q5vbkxkqrtuj/tracks/analytics/challenges/clickhouse-ingestion/assignment#tab-0">Terminal</a>:</p>
<p>then create database</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <pre tabindex="0"><code>CREATE DATABASE analytics;</code></pre>
  </figure>
</div>
<p>Next, create a Clickhouse table that uses the Kafka table engine to read data from Redpanda into Clickhouse. The columns in the DDL statement below correspond to the field names in the payload we constructed in Chapter 1.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <pre tabindex="0"><code>CREATE OR REPLACE TABLE analytics.web_kafka (
    url String,
    ip String,
    country String,
    ua String,
    browser_name String,
    browser_version String,
    browser_major String,
    engine_name String,
    engine_version String,
    os_name String,
    os_version String,
    device_vendor String,
    device_model String,
    timestamp DateTime
) ENGINE = Kafka SETTINGS
    kafka_broker_list = &#39;redpanda-1:9092&#39;,
    kafka_topic_list = &#39;website_visits&#39;,
    kafka_group_name = &#39;rp&#39;,
    kafka_format = &#39;JSONEachRow&#39;,
    kafka_num_consumers = 1;</code></pre>
  </figure>
</div>
<p>A materialized view is a special type of view that stores the results of a query physically in the database, unlike a regular view which does not store any data and only represents a query. Materialized views in ClickHouse are used to improve query performance by precomputing and storing the results of complex queries, which can then be queried directly instead of recomputing the results each time the query is run.</p>
<p>Finally, set up a materialized view to query the data. Run the following command to DDL statement to create thie view:</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <pre tabindex="0"><code>CREATE MATERIALIZED VIEW analytics.web
ENGINE = Memory
AS
SELECT *
FROM analytics.web_kafka
SETTINGS
stream_like_engine_allow_direct_select = 1;</code></pre>
  </figure>
</div>
<p>With the table and materialized view setup, the data can now flow from Redpanda into Clickhouse. Open the Marketing Website again and click around a few pages. Then go back to the Clickhouse UI, and run the following query:</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <pre tabindex="0"><code>SELECT * FROM analytics.web LIMIT 10</code></pre>
  </figure>
</div>
<p>You should see multiple rows of data.</p>
<p>You can also run aggregate queries like the following:</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <pre tabindex="0"><code>SELECT COUNT() as count, country
FROM analytics.web
GROUP BY country</code></pre>
  </figure>
</div>
<p>Note
If you experience any issues creating these tables, you can always check the Clickhouse system errors with the following query: SELECT * FROM system.errors;</p>
<p>Once you&rsquo;ve confirmed that the data is flowing into Clickhouse, proceed to the next section to learn how to visualize the data in Grafana. We&rsquo;ll cover this topic in the next lesson.</p>
<p>You&rsquo;ve made a lot of progress in the last few lessons! Your Hono application is now collecting web analytics from the example marketing website, and this data is flowing through Redpanda and Clickhouse.</p>
<p>However, in order to extract even more value from our analytics data, we need a way to visualize it. Fortunately, Clickhouse integrates with many different data visualization tools to enable this functionality.</p>
<p>For this tutorial, we&rsquo;ll be choosing a well-established open-source option for visualizing our data: Grafana.</p>
<p>grafana -&gt; connections-&gt; &ldquo;ClickHouse&rdquo; -&gt; install</p>
<p>Next, click <strong>Dashboards</strong> in the left navigation, then click <strong>+ Create dashboard</strong>, and finally, click <strong>Add visualization</strong>.</p>
<p>Select your new Clickhouse connection, and then from the SQL Editor tab, type in the following query:</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <pre tabindex="0"><code>SELECT timestamp AS time, country, count() AS requests
FROM analytics.web
GROUP BY country, timestamp
ORDER BY timestamp</code></pre>
  </figure>
</div>
<p>And that&rsquo;s all there is to start visualizing your data. From here, you have limitless possibilities thanks to Grafana&rsquo;s wide range of chart / visualization types.</p>
<p>We won&rsquo;t go through the process of building an entire analytics dashboard, but the process should be clear now. As an exercise for the reader, try adding a few more visualizations in Grafana by writing some additional queries. Some examples of visualizations you can add include:</p>
<p>In this lesson, you&rsquo;ll make some slight updates to the data collection script to improve the response times and modularize the code for producing data to Redpanda. This will pave the path for storing session recordings in Redpanda and Clickhouse.</p>
<p>Async ingestion
One of the benefits of running our analytics service on the edge is that our code for collecting information is deployed close to the end user. This allows us to initiate data collection very quickly after a user visits our website.</p>
<p>However, depending on where your Redpanda cluster is deployed, the cluster itself may not be geographically close to the user. Consequently, producing data to Redpanda may incur a few hundred milliseconds of additional latency.</p>
<p>The current implementation of our <code>track/</code> handler won&rsquo;t return a response until after the data is produced to Redpanda. This is okay, but session recordings can generate a lot of data. If we can minimize the number of open requests that clients are waiting on at any given point in time, we can mitigate certain types of client-side performance issues.</p>
<p>Let&rsquo;s address this performance concern before we implement session recordings.</p>
<p>Preparing Redpanda</p>
<p>Let&rsquo;s make a slight modification to our code so that we can return a response to the client right after receiving the analytic events. We&rsquo;ll then produce the events to Redpanda in a non-blocking way to improve our service&rsquo;s response time and address the issues mentioned above.</p>
<p>To accomplish this, we can use a built-in function called <a href="https://developers.cloudflare.com/workers/runtime-apis/context/#waituntil">waitUntil.</a> This function takes a promise that will continue executing even after a response is returned to the client. It&rsquo;s basic usage looks like this:</p>
<p>By using <code>waitUntil</code>, our service will acknowledge tracking requests much faster. Also, by creating a dedicated function for producing data to Redpanda, we can now avoid some boilerplate when producing data from new endpoints (e.g. the upcoming session recording endpoints).</p>
<h1 id="session-recording">Session Recording</h1>
<p>Many third-party vendors offer session recording as one of their most advanced features. Unfortunately, this feature also raises some data privacy concerns.</p>
<p>The idea is that whenever a user visits your website, everything they do, from mouse movements, clicks, to keystrokes, is recorded so that it can be replayed in the future. The recordings can be used for a variety of reasons:</p>
<ul>
<li>Improving customer support</li>
<li>Fraud and security investigations</li>
<li>Fine-grained product research</li>
<li>and more</li>
</ul>
<p>To enable these use cases, the session recorder needs to watch every user movement and reconstruct the entire layout, style, and content of your webpage so that it can replay user events in a visually meaningful way.</p>
<p>This leads to session recorders like rrweb having multiple event types. Some events will be large as they need to capture metadata about your website (i.e. structure and style information to reconstruct your website at replay time). Other events will be small, since they only contain x/y coordinates of mouse movements.</p>
<p>When processed and stored correctly, this data will allow you to watch a video of your user interacting with your website.</p>
<p>If you&rsquo;re hesitant to ship such detailed information about your users&rsquo; behaviors and also your platform to a third party, or if you just want a better understanding of how this works, we&rsquo;re going to show you how to implement this advanced feature yourself using rrweb, Redpanda, and Clickhouse.</p>
<h1 id="session-recording-1">Session Recording</h1>
<p>To get started, you&rsquo;ll need to create a new Redpanda topic for storing the session recordings.</p>
<p>As mentioned in the previous section, certain metadata messages that occur at the beginning of each recording may be on the larger side. These payloads can exceed Redpanda&rsquo;s default max message size of 1MB.</p>
<ol>
<li>
<p>create topics with session recordings.</p>
</li>
<li>
<p>Session Recording: Clickhouse setup</p>
</li>
</ol>
<p>Next, you&rsquo;ll need to create a new table in Clickhouse for storing the session recordings. Run the following DDL statement from your local Clickhouse UI to create the table:</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <pre tabindex="0"><code>CREATE OR REPLACE TABLE analytics.recordings_kafka (
    id String,
    page_title String,
    recording String,
    timestamp DateTime64(3)
) ENGINE = Kafka SETTINGS
    kafka_broker_list = &#39;redpanda-1:9092&#39;,
    kafka_topic_list = &#39;session_recordings&#39;,
    kafka_group_name = &#39;rp&#39;,
    kafka_format = &#39;JSONEachRow&#39;,
    kafka_num_consumers = 1;</code></pre>
  </figure>
</div>
<p>The <code>analytics.recordings_kafka</code> table uses the Kafka engine to read session recordings from a Redpanda topic called <code>session_recordings</code>. The fields names correspond to the following values:</p>
<p>Finally, create a materialized view that we can use to query the session recording data.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <pre tabindex="0"><code>CREATE MATERIALIZED VIEW analytics.recordings
ENGINE = Memory
AS
SELECT
    id,
    page_title,
    recording,
    timestamp
FROM analytics.recordings_kafka
SETTINGS
stream_like_engine_allow_direct_select = 1;</code></pre>
  </figure>
</div>
<p>Session Recording: Hono Updates</p>
<p>To implement the session recording, we&rsquo;re going to use an open source library called <a href="https://github.com/rrweb-io/rrweb">rrweb</a>. You can read about that library in detail in the Github repo, but to summarize the implementation, we need to:</p>
<ul>
<li>Inject the rrweb library into the webpage</li>
<li>Initialize start recording when the page is loaded</li>
<li>Post all recording events to our Hono service</li>
<li>Save these events to Redpanda and Clickhouse</li>
<li>Build a page to watch / replay the recording events</li>
</ul>
<p>We could implement all of this in our existing <code>/js</code> endpoint, but to improve readability for this tutorial, we will create a new endpoint called <code>record.js</code>.</p>
<p>Whether or not you ultimately decide to move some of your analytic workloads in-house, we hope this course provided some useful experience with Hono, Redpanda, and Clickhouse. The skills you built here can be applied to a wide range of use cases, and familiarity with the core components (a data collector, a streaming layer, and a real-time analytics database) will ensure a smooth journey for whatever you decide to build next.</p>

			<div class="page-footer-meta d-flex flex-column flex-md-row justify-content-between">
				</div>
			<div class="page-nav d-flex flex-column flex-sm-row">
	
	<div class="card w-100">
			<div class="card-body d-flex">
				<div class="d-flex flex-column justify-content-center">
					<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-arrow-left" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
						<path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
						<path d="M5 12l14 0"></path>
						<path d="M5 12l6 6"></path>
						<path d="M5 12l6 -6"></path>
				 	</svg>
				</div>
				<div class="d-flex flex-column">
					<div class="text-body-secondary">Prev</div>
					<a href="/system-design/topics/stream_processing/" class="stretched-link text-reset text-decoration-none">Stream Processing</a>
				</div>
			</div>
		</div>
	<div class="m-2"></div>
	<div class="card text-end w-100">
			<div class="card-body d-flex justify-content-end">
				<div class="d-flex flex-column">
					<div class="text-body-secondary">Next</div>
					<a href="/system-design/about/" class="stretched-link text-reset text-decoration-none">System Design</a>
				</div>
				<div class="d-flex flex-column justify-content-center">
					<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-arrow-right" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
						<path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
						<path d="M5 12l14 0"></path>
						<path d="M13 18l6 -6"></path>
						<path d="M13 6l6 6"></path>
					</svg>
				</div>
			</div>
		</div>
	</div>

			
		</main>
		
	</div>

      
      </div>
    </div>
    
    
    <footer class="footer text-muted">
  <div class="container-lg">
    <div class="row">
      <div class="col-lg-8 text-center text-lg-start">
        <ul class="list-inline">
          <li class="list-inline-item"><a class="text-muted" href="/privacy/">Privacy Policy</a></li><li class="list-inline-item"><a class="text-muted" href="/engineering/engineering-guide/">Engineering Guide</a></li><li class="list-inline-item"><a class="text-muted" href="/projects/about/">Projects</a></li><li class="list-inline-item"><a class="text-muted" href="/system-design/about/">System Design</a></li>
        </ul>
      </div>
      <div class="col-lg-8 text-center text-lg-end">
        <ul class="list-inline">
          <li class="list-inline-item">Brought to you by Valery</li>
        </ul>
      </div>
    </div>
  </div>
</footer>

    

<script async
  src="/js/app.c17553444ec7c62f781ddbaa011948f6d85a1bab49420047d68a2b89852a8b36.js"
  integrity="sha256-wXVTRE7Hxi94HduqARlI9thaG6tJQgBH1ooriYUqizY=">
</script>





<script async
  src="/js/flexsearch.7b25ae2da7ab3cc745d4f8536e3f914f92ea8b1afad96ab9249c160c35e0648c.js"
  integrity="sha256-eyWuLaerPMdF1PhTbj&#43;RT5Lqixr62Wq5JJwWDDXgZIw=">
</script>
<script async
  src="/js/search-modal.0415aa45353ab123a509f6ddc6861549ece898b90872fcf757cd2663041dac96.js"
  integrity="sha256-BBWqRTU6sSOlCfbdxoYVSezomLkIcvz3V80mYwQdrJY=">
</script>

    <div class="d-inline-flex fixed-bottom-right pb-4 pe-4">
  <button id="toTop" type="button" class="btn btn-primary rounded-circle ms-auto p-2"><span class="visually-hidden">Top</span><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-up" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M6 15l6 -6l6 6"></path></svg></button>
</div>

    
  </body>
</html>